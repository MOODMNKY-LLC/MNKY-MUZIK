# ============== Supabase (local: run `supabase status` after `supabase start`) ==============
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your_supabase_publishable_key
# Optional: Supabase UI Library blocks use this name; can alias to PUBLISHABLE_KEY above
# NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY=your_supabase_publishable_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Database (direct Postgres – for migrations, scripts)
DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres

# Storage S3 (optional – S3-compatible access to Supabase Storage)
SUPABASE_STORAGE_S3_URL=http://127.0.0.1:54321/storage/v1/s3
SUPABASE_STORAGE_ACCESS_KEY=your_storage_access_key
SUPABASE_STORAGE_SECRET_KEY=your_storage_secret_key
SUPABASE_STORAGE_REGION=local

# ============== Stripe (https://dashboard.stripe.com/apikeys and /webhooks) ==============
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
# From Stripe Dashboard → Developers → Webhooks → Add endpoint → URL: https://your-domain.com/api/webhooks
# Events: product.created, product.updated, price.created, price.updated, checkout.session.completed, customer.subscription.*
# Local: run `stripe listen --forward-to localhost:3000/api/webhooks` and use the printed signing secret
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_signing_secret

# ============== GitHub OAuth (Supabase local auth) ==============
# Official: https://supabase.com/docs/guides/local-development/managing-config
# Supabase CLI loads env from .env at project root when you run `supabase start`.
# Copy this file to .env at project root (same folder as supabase/). If you use .env.local
# for Next.js only, run `pnpm run supabase:start` so Supabase gets these vars.
# GitHub: create an OAuth App (not GitHub App) at https://github.com/settings/developers;
# set Authorization callback URL to exactly: http://127.0.0.1:54321/auth/v1/callback
GITHUB_CLIENT_ID=your_github_oauth_client_id
GITHUB_SECRET=your_github_oauth_client_secret

# ============== Navidrome (Subsonic API – primary music catalog & streaming) ==============
# One shared Navidrome user for the app; no secrets in browser.
NAVIDROME_URL=http://localhost:4533
NAVIDROME_USER=your_navidrome_username
NAVIDROME_PASSWORD=your_navidrome_password

# ============== Lidarr (request music – add artist/album, trigger search) ==============
LIDARR_URL=http://localhost:8686
LIDARR_API_KEY=your_lidarr_api_key
# Optional when adding artists via API:
# LIDARR_ROOT_FOLDER_PATH=/music
# LIDARR_QUALITY_PROFILE_ID=1

# ============== Spotify (public metadata – no premium; Client Credentials) ==============
# From https://developer.spotify.com/dashboard
SPOTIFY_CLIENT_ID=your_spotify_client_id
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret

# ============== App ==============
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# RBAC / subscription bypass (optional)
# In dev: set to true so any logged-in user can play without subscription
NEXT_PUBLIC_DEV_BYPASS_SUBSCRIPTION=false
# Server-only: PIN for beta access (friends can enter to bypass subscription)
BETA_ACCESS_PIN=
